<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.3">
<title>Liu Renxing - Project Portfolio</title>
<link rel="stylesheet" href="../stylesheets/gh-pages.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css">
<link rel="stylesheet" href="../stylesheets/coderay-asciidoctor.css">
</head>
<body class="article">
<div id="header">
<h1>Liu Renxing - Project Portfolio</h1>
</div>
<div id="content">
<div class="sect1">
<h2 id="project-contact-pro"><a class="link" href="#project-contact-pro">Project: Contact+ Pro</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Contact+ Pro is a portable contact book designed specifically for NUS students with the aim to connect
the students and help them keep in touch with friends and peers!</p>
</div>
<div class="paragraph">
<p><strong>Code contributed</strong>: [<a href="https://github.com/CS2103AUG2017-T14-B4/main/blob/master/collated/main/hthjthtrh.md">Functional code</a>] [<a href="https://github.com/CS2103AUG2017-T14-B4/main/blob/master/collated/test/hthjthtrh.md">Test code</a>]</p>
</div>
<div class="sect2">
<h3 id="enhancement-added-back-up-storage"><a class="link" href="#enhancement-added-back-up-storage">Enhancement Added: Back-up storage</a></h3>
<div class="sect3">
<h4 id="justification"><a class="link" href="#justification">Justification</a></h4>
<div class="paragraph">
<p>A user will lose his contacts' information if the data file is deleted or corrupted due to unforeseen circumstances.
Having a back-up storage will prevent the pain of losing all those information.</p>
</div>
</div>
<div class="sect3">
<h4 id="implementation"><a class="link" href="#implementation">Implementation</a></h4>
<hr>
<div class="paragraph">
<p><mark>Start of Extract [from: Developer Guide]</mark></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="storage-with-back-up"><a class="link" href="#storage-with-back-up">Storage with back up</a></h3>
<div class="paragraph">
<p>Upon the first-time run of this application, user is provided with a sample list of people, provided by <a href="{repoURL}/src/main/java/seedu/address/storage/model/util/SampleDataUtil.java"><code>SampleDataUtil.java</code></a>. This is to give the user an idea of how the working application should look like.</p>
</div>
<div class="paragraph">
<p>If this is not a first-time run, under normal operation, addressbook.xml storage file in application directory/main/data is used to instantiate model for current session.</p>
</div>
<div class="paragraph">
<p>However if user&#8217;s main storage file addressbook.xml is non-existant, of incorrect format or unreadable, we make a best effort retrieval of back up data in addressbook.xml-backup.xml.</p>
</div>
<div class="paragraph">
<p>Pseudo code for initiation of model:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">private</span> Model initModelManager(Storage storage, UserPrefs userPrefs) {
    ...
    try {
        read addressbook using storage
        <span class="keyword">if</span> storage file is not present:
            initModelWithBackup
    } <span class="keyword">catch</span> (addressbook has incorrect format) {
        initModelWithBackup
    } <span class="keyword">catch</span> (unreadable addressbook) {
        initModelWithBackup
    }
    ...
}

<span class="directive">private</span> Model initModelWithBackup(Storage storage, UserPrefs userPrefs) {
    ...
    try {
        read backup addressbook using storage
        <span class="keyword">if</span> backup storage file is present:
            retrieve back up addressbook
            save back up addressbook content to addressbook
        <span class="keyword">else</span>:
            retrieve sample addressbook
    } <span class="keyword">catch</span> (addressbook has incorrect format) {
        create empty addressbook
    } <span class="keyword">catch</span> (unreadable addressbook) {
        create empty addressbook
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Back up file is kept up-to-date by updating itself when an AddressBookChangedEvent is raised.</p>
</div>
<div class="paragraph">
<p><mark>End of Extract</mark></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="enhancement-added-multi-step-undo"><a class="link" href="#enhancement-added-multi-step-undo">Enhancement Added: Multi-step undo</a></h3>
<div class="sect3">
<h4 id="external-behavior"><a class="link" href="#external-behavior">External Behavior</a></h4>
<hr>
<div class="paragraph">
<p><mark>Start of Extract [from: User Guide]</mark></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="undoing-previous-command-code-undo-code"><a class="link" href="#undoing-previous-command-code-undo-code">Undoing previous command : <code>undo</code></a></h3>
<div class="paragraph">
<p>Restores the address book to the state before the <em>undoable</em> commands were executed, specified by the the number of commands to undo<br>
Format: <code>undo [STEPS]</code><br>
Alternative format: <code>undo all</code>, which undoes all changes made in current session.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Undoable commands: those commands that modify the address book&#8217;s content (<code>add</code>, <code>delete</code>, <code>edit</code>, <code>remark</code> and <code>clear</code>).</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>delete 1</code><br>
<code>list</code><br>
<code>undo</code> (reverses the <code>delete 1</code> command)<br></p>
</li>
<li>
<p><code>select 1</code><br>
<code>list</code><br>
<code>undo</code><br>
The <code>undo</code> command fails as there are no undoable commands executed previously.</p>
</li>
<li>
<p><code>delete 1</code><br>
<code>delete 2</code><br>
<code>delete 2</code><br>
<code>clear</code><br>
<code>undo 2</code> (reverses the 2 delete commands)</p>
</li>
<li>
<p><code>add n/James Ho p/22224444 e/jamesho@example.com a/123, Clementi Rd, 1234665</code><br>
<code>delete 1</code><br>
<code>delete 2</code><br>
<code>undo all</code> (reverses both delete commands and add command)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><mark>End of Extract</mark></p>
</div>
<hr>
<div class="sect3">
<h4 id="justification-2"><a class="link" href="#justification-2">Justification</a></h4>
<div class="paragraph">
<p>Allows user to undo multiple changes should the user only realise the mistakes steps later.</p>
</div>
</div>
<div class="sect3">
<h4 id="implementation-2"><a class="link" href="#implementation-2">Implementation</a></h4>
<div class="paragraph">
<p>This enhancement is built upon the original implementation of <code>undo redo mechanism</code>. No change is made to the underlying mechanism.
The multi-step undo is done through multiple usage of the undo mechanism.<br></p>
</div>
<div class="paragraph">
<p>The following is the original mechanism:</p>
</div>
<hr>
<div class="paragraph">
<p><mark>Start of Extract [from: Developer Guide]</mark></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="undo-redo-mechanism"><a class="link" href="#undo-redo-mechanism">Undo/Redo mechanism</a></h3>
<div class="paragraph">
<p>The undo/redo mechanism is facilitated by an <code>UndoRedoStack</code>, which resides inside <code>LogicManager</code>. It supports undoing and redoing of commands that modifies the state of the address book (e.g. <code>add</code>, <code>edit</code>). Such commands will inherit from <code>UndoableCommand</code>.</p>
</div>
<div class="paragraph">
<p><code>UndoRedoStack</code> only deals with <code>UndoableCommands</code>. Commands that cannot be undone will inherit from <code>Command</code> instead. The following diagram shows the inheritance diagram for commands:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/LogicCommandClassDiagram.png" alt="LogicCommandClassDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p>As you can see from the diagram, <code>UndoableCommand</code> adds an extra layer between the abstract <code>Command</code> class and concrete commands that can be undone, such as the <code>DeleteCommand</code>. Note that extra tasks need to be done when executing a command in an <em>undoable</em> way, such as saving the state of the address book before execution. <code>UndoableCommand</code> contains the high-level algorithm for those extra tasks while the child classes implements the details of how to execute the specific command. Note that this technique of putting the high-level algorithm in the parent class and lower-level steps of the algorithm in child classes is also known as the <a href="https://www.tutorialspoint.com/design_pattern/template_pattern.htm">template pattern</a>.</p>
</div>
<div class="paragraph">
<p>Commands that are not undoable are implemented this way:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">ListCommand</span> <span class="directive">extends</span> Command {
    <span class="annotation">@Override</span>
    <span class="directive">public</span> CommandResult execute() {
        <span class="comment">// ... list logic ...</span>
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>With the extra layer, the commands that are undoable are implemented this way:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="directive">abstract</span> <span class="type">class</span> <span class="class">UndoableCommand</span> <span class="directive">extends</span> Command {
    <span class="annotation">@Override</span>
    <span class="directive">public</span> CommandResult execute() {
        <span class="comment">// ... undo logic ...</span>

        executeUndoableCommand();
    }
}

<span class="directive">public</span> <span class="type">class</span> <span class="class">DeleteCommand</span> <span class="directive">extends</span> UndoableCommand {
    <span class="annotation">@Override</span>
    <span class="directive">public</span> CommandResult executeUndoableCommand() {
        <span class="comment">// ... delete logic ...</span>
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Suppose that the user has just launched the application. The <code>UndoRedoStack</code> will be empty at the beginning.</p>
</div>
<div class="paragraph">
<p>The user executes a new <code>UndoableCommand</code>, <code>delete 5</code>, to delete the 5th person in the address book. The current state of the address book is saved before the <code>delete 5</code> command executes. The <code>delete 5</code> command will then be pushed onto the <code>undoStack</code> (the current state is saved together with the command).</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/UndoRedoStartingStackDiagram.png" alt="UndoRedoStartingStackDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p>As the user continues to use the program, more commands are added into the <code>undoStack</code>. For example, the user may execute <code>add n/David &#8230;&#8203;</code> to add a new person.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/UndoRedoNewCommand1StackDiagram.png" alt="UndoRedoNewCommand1StackDiagram" width="800">
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If a command fails its execution, it will not be pushed to the <code>UndoRedoStack</code> at all.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The user now decides that adding the person was a mistake, and decides to undo that action using <code>undo</code>.</p>
</div>
<div class="paragraph">
<p>We will pop the most recent command out of the <code>undoStack</code> and push it back to the <code>redoStack</code>. We will restore the address book to the state before the <code>add</code> command executed.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/UndoRedoExecuteUndoStackDiagram.png" alt="UndoRedoExecuteUndoStackDiagram" width="800">
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the <code>undoStack</code> is empty, then there are no other commands left to be undone, and an <code>Exception</code> will be thrown when popping the <code>undoStack</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following sequence diagram shows how the undo operation works:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/UndoRedoSequenceDiagram.png" alt="UndoRedoSequenceDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p>The redo does the exact opposite (pops from <code>redoStack</code>, push to <code>undoStack</code>, and restores the address book to the state after the command is executed).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the <code>redoStack</code> is empty, then there are no other commands left to be redone, and an <code>Exception</code> will be thrown when popping the <code>redoStack</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The user now decides to execute a new command, <code>clear</code>. As before, <code>clear</code> will be pushed into the <code>undoStack</code>. This time the <code>redoStack</code> is no longer empty. It will be purged as it no longer make sense to redo the <code>add n/David</code> command (this is the behavior that most modern desktop applications follow).</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/UndoRedoNewCommand2StackDiagram.png" alt="UndoRedoNewCommand2StackDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p>Commands that are not undoable are not added into the <code>undoStack</code>. For example, <code>list</code>, which inherits from <code>Command</code> rather than <code>UndoableCommand</code>, will not be added after execution:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/UndoRedoNewCommand3StackDiagram.png" alt="UndoRedoNewCommand3StackDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p>The following activity diagram summarize what happens inside the <code>UndoRedoStack</code> when a user executes a new command:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/UndoRedoActivityDiagram.png" alt="UndoRedoActivityDiagram" width="200">
</div>
</div>
<div class="sect3">
<h4 id="design-considerations"><a class="link" href="#design-considerations">Design Considerations</a></h4>
<div class="paragraph">
<p><strong>Aspect:</strong> Implementation of <code>UndoableCommand</code><br>
<strong>Alternative 1 (current choice):</strong> Add a new abstract method <code>executeUndoableCommand()</code><br>
<strong>Pros:</strong> We will not lose any undone/redone functionality as it is now part of the default behaviour. Classes that deal with <code>Command</code> do not have to know that <code>executeUndoableCommand()</code> exist.<br>
<strong>Cons:</strong> Hard for new developers to understand the template pattern.<br>
<strong>Alternative 2:</strong> Just override <code>execute()</code><br>
<strong>Pros:</strong> Does not involve the template pattern, easier for new developers to understand.<br>
<strong>Cons:</strong> Classes that inherit from <code>UndoableCommand</code> must remember to call <code>super.execute()</code>, or lose the ability to undo/redo.</p>
</div>
<hr>
<div class="paragraph">
<p><strong>Aspect:</strong> How undo &amp; redo executes<br>
<strong>Alternative 1 (current choice):</strong> Saves the entire address book.<br>
<strong>Pros:</strong> Easy to implement.<br>
<strong>Cons:</strong> May have performance issues in terms of memory usage.<br>
<strong>Alternative 2:</strong> Individual command knows how to undo/redo by itself.<br>
<strong>Pros:</strong> Will use less memory (e.g. for <code>delete</code>, just save the person being deleted).<br>
<strong>Cons:</strong> We must ensure that the implementation of each individual command are correct.</p>
</div>
<hr>
<div class="paragraph">
<p><strong>Aspect:</strong> Type of commands that can be undone/redone<br>
<strong>Alternative 1 (current choice):</strong> Only include commands that modifies the address book (<code>add</code>, <code>clear</code>, <code>edit</code>).<br>
<strong>Pros:</strong> We only revert changes that are hard to change back (the view can easily be re-modified as no data are lost).<br>
<strong>Cons:</strong> User might think that undo also applies when the list is modified (undoing filtering for example), only to realize that it does not do that, after executing <code>undo</code>.<br>
<strong>Alternative 2:</strong> Include all commands.<br>
<strong>Pros:</strong> Might be more intuitive for the user.<br>
<strong>Cons:</strong> User have no way of skipping such commands if he or she just want to reset the state of the address book and not the view.<br>
<strong>Additional Info:</strong> See our discussion  <a href="https://github.com/se-edu/addressbook-level4/issues/390#issuecomment-298936672">here</a>.</p>
</div>
<hr>
<div class="paragraph">
<p><strong>Aspect:</strong> Data structure to support the undo/redo commands<br>
<strong>Alternative 1 (current choice):</strong> Use separate stack for undo and redo<br>
<strong>Pros:</strong> Easy to understand for new Computer Science student undergraduates to understand, who are likely to be the new incoming developers of our project.<br>
<strong>Cons:</strong> Logic is duplicated twice. For example, when a new command is executed, we must remember to update both <code>HistoryManager</code> and <code>UndoRedoStack</code>.<br>
<strong>Alternative 2:</strong> Use <code>HistoryManager</code> for undo/redo<br>
<strong>Pros:</strong> We do not need to maintain a separate stack, and just reuse what is already in the codebase.<br>
<strong>Cons:</strong> Requires dealing with commands that have already been undone: We must remember to skip these commands. Violates Single Responsibility Principle and Separation of Concerns as <code>HistoryManager</code> now needs to do two different things.<br></p>
</div>
<div class="paragraph">
<p><mark>End of Extract</mark></p>
</div>
<hr>
</div>
</div>
<div class="sect2">
<h3 id="enhancement-added-group-related-functionalities"><a class="link" href="#enhancement-added-group-related-functionalities">Enhancement Added: Group-related functionalities</a></h3>
<div class="sect3">
<h4 id="external-behavior-2"><a class="link" href="#external-behavior-2">External Behavior</a></h4>
<hr>
<div class="paragraph">
<p><mark>Start of Extract [from: User Guide]</mark></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="creating-a-group-code-creategroup-code"><a class="link" href="#creating-a-group-code-creategroup-code">Creating a group: <code>createGroup</code></a></h3>
<div class="paragraph">
<p>Creates a group including a list of person from the address book.<br>
Format: <code>createGroup GROUP_NAME(non-integer) INDEX [INDEX]&#8230;&#8203;</code></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Creates the group with group name <code>GROUP_NAME</code> including the list of people specified by <code>INDEX</code> s.</p>
</li>
<li>
<p>Group name cannot be empty.</p>
</li>
<li>
<p>Group name cannot be an integer, eg. 1341</p>
</li>
<li>
<p>Creating group with group name already existent in the addressbook will fail.</p>
</li>
<li>
<p>The index refers to the index number shown in the most recent listing.</p>
</li>
<li>
<p>The index <strong>must be a positive integer</strong> 1, 2, 3, &#8230;&#8203;</p>
</li>
<li>
<p>There must be <strong>at least one</strong> index to successfully create the group.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>createGroup SoSmart 1 3 5</code><br>
Creates the group of group name SoSmart with the 1st, 3rd and 5th person in the current view.</p>
</li>
<li>
<p><code>createGroup SoSmart 1 3 5</code><br>
<code>createGroup SoSmart 2 4</code><br>
Operation fails because group <code>SoSmart</code> already exists in the address book.</p>
</li>
<li>
<p><code>createGroup YouSmart?</code><br>
Operation fails because no <code>index</code> is provided.</p>
</li>
<li>
<p><code>createGroup 1234 1 2 3 4</code><br>
Operation fails because group name is an integer</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="deleting-a-group-code-deletegroup-code"><a class="link" href="#deleting-a-group-code-deletegroup-code">Deleting a group: <code>deleteGroup</code></a></h3>
<div class="paragraph">
<p>Deletes a group from the addressbook.<br>
Format: <code>deleteGroup GROUP_NAME</code> or <code>deleteGroup INDEX</code></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Deletes the group with group name <code>GROUP_NAME</code> or index <code>INDEX</code>.</p>
</li>
<li>
<p>Group name must be a valid group name (exists in the addressbook and valid format)</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>createGroup SoSmart 1 2 3</code><br>
<code>deleteGroup SoSmart</code><br>
Deletes the group <code>SoSmart</code> successfully</p>
</li>
<li>
<p><code>deleteGroup 12</code><br>
Deletes the 12th group in the list of groups</p>
</li>
<li>
<p><code>deleteGroup SoSmart</code><br>
Operation fails because the group <code>SoSmart</code> does not exist</p>
</li>
<li>
<p><code>deleteGroup -2</code><br>
Operation fails because -2 is neither a valid group name nor valid index</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="listing-all-groups-code-listgroups-code"><a class="link" href="#listing-all-groups-code-listgroups-code">Listing all groups: <code>listGroups</code></a></h3>
<div class="paragraph">
<p>Lists all groups by group name in the addressbook.<br>
Format: <code>listGroups</code></p>
</div>
</div>
<div class="sect2">
<h3 id="listing-persons-within-a-group-code-viewgroup-code"><a class="link" href="#listing-persons-within-a-group-code-viewgroup-code">Listing persons within a group: <code>viewGroup</code></a></h3>
<div class="paragraph">
<p>Lists all persons in the specified group<br>
Format: <code>viewGroup GROUP_NAME</code> or <code>viewGroup INDEX</code></p>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>viewGroup Hello!</code><br>
Lists all person in the group <code>Hello!</code>.</p>
</li>
<li>
<p><code>viewGroup 1</code><br>
Lists all person in the first group.</p>
</li>
<li>
<p><code>viewGroup -1</code><br>
Operation fails since -1 is neither a valid group name nor a valid index</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="editing-a-group-code-editgroup-code"><a class="link" href="#editing-a-group-code-editgroup-code">Editing a group : <code>editGroup</code></a></h3>
<div class="paragraph">
<p>Edits the group.<br>
Format: <code>editGroup GROUP_NAME gn NEW_GROUP_NAME</code> or <code>editGroup GROUP_INDEX gn NEW_GROUP_NAME</code><br>
<code>editGroup GROUP_NAME add INDEX</code> or <code>editGroup GROUP_INDEX add INDEX</code><br>
<code>editGROUP GROUP_NAME delete INDEX</code> or <code>editGroup GROUP_INDEX delete INDEX</code><br></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>This command supports three kinds of operations: 1. change group name 2. add a person to the group 3. delete a person from the group</p>
</li>
<li>
<p><code>NEW_GROUP_NAME</code> must fit a valid group name format</p>
</li>
<li>
<p>person of specified index <strong>within</strong> the group is removed</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>editGroup test gn testing</code><br>
<code>editGroup anotherTest gn testing</code><br>
First operation succeeds if no existing group is called <code>testing</code><br>
Second operation fails if first operation goes through.</p>
</li>
<li>
<p><code>editGroup 2 gn Sp1Cy!</code><br>
Second group group name is changed to Sp1Cy!.</p>
</li>
<li>
<p><code>editGroup test add 1</code><br>
Adds the first person from the current view of persons to the group.</p>
</li>
<li>
<p><code>editGroup 1 add 10</code><br>
Adds the tenth person into the first group.</p>
</li>
<li>
<p><code>editGroup test delete 3</code><br>
Deletes the third person in the group.</p>
</li>
<li>
<p><code>editGroup 1 delete 10</code><br>
Deletes the tenth person from the first group.</p>
</li>
<li>
<p><code>editGroup test gn 12</code><br>
Operation fails as 12 is not a valid group name.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><mark>End of Extract</mark></p>
</div>
<hr>
<div class="sect3">
<h4 id="justification-3"><a class="link" href="#justification-3">Justification</a></h4>
<div class="paragraph">
<p>Allows user to link a group of closely related contacts. Gives the user a clearer categorisation of his contacts.</p>
</div>
</div>
<div class="sect3">
<h4 id="implementation-3"><a class="link" href="#implementation-3">Implementation</a></h4>
<hr>
<div class="paragraph">
<p><mark>Start of Extract [from: Developer Guide]</mark></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="grouping"><a class="link" href="#grouping">Grouping</a></h3>
<div class="paragraph">
<p>The grouping function is created to allow user to better organise his contacts.
This is achieved by introducing <code>UniqueGroupList</code> into the <code>addressbook</code>, which is a list of <code>Group</code> objects.</p>
</div>
<div class="paragraph">
<p><code>Group</code> objects are extensions of <code>UniquePersonList</code>, and contain all information of <code>Person</code> objects seperately
from <code>UniquePersonList</code> in <code>addressbook</code> as a result of current implementation of <code>UniquePersonList</code>, which does
not return direct reference to <code>Person</code> objects of interest.</p>
</div>
<div class="paragraph">
<p>As <code>Person</code> in a <code>Group</code> and the corresponding <code>Person</code> in the <code>addressbook</code> are seperately kept, synchronization
is done to all operations that cause a change in existing <code>Person</code> to propagate the changes down to <code>Group</code>.</p>
</div>
<div class="paragraph">
<p>Code snippet demonstrating propagation of change using EditCommand as an example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> CommandResult executeUndoableCommand() <span class="directive">throws</span> CommandException {
    ...
    try {
        model.updatePerson(personToEdit, editedPerson);
        model.propagateToGroup(personToEdit, editedPerson);
    } <span class="keyword">catch</span> (DuplicatePersonException dpe) {
        <span class="keyword">throw</span> <span class="keyword">new</span> CommandException(MESSAGE_DUPLICATE_PERSON);
    } <span class="keyword">catch</span> (PersonNotFoundException pnfe) {
        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="exception">AssertionError</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">The target person cannot be missing</span><span class="delimiter">&quot;</span></span>);
    }
    ....
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><mark>End of Extract</mark></p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="other-contributions"><a class="link" href="#other-contributions">Other contributions</a></h3>
<div class="ulist">
<ul>
<li>
<p>supporting UI, model and storage changes for group related commands</p>
</li>
<li>
<p>Deletion of multiple person in one command</p>
</li>
<li>
<p>alert dialogue for exception handling</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2017-11-12 15:35:20 +00:00
</div>
</div>
</body>
</html>